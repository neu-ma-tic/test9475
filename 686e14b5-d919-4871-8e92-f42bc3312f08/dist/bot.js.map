{"version":3,"file":"bot.js","sourceRoot":"","sources":["../src/bot.ts"],"names":[],"mappings":"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","sourcesContent":["import Discord, { Interaction, GuildMember, Snowflake } from 'discord.js';\nimport {\n\tAudioPlayerStatus,\n\tAudioResource,\n\tentersState,\n\tjoinVoiceChannel,\n\tVoiceConnectionStatus,\n} from '@discordjs/voice';\nimport { Track } from './music/track';\nimport { MusicSubscription } from './music/subscription';\nimport yts from 'yt-search';\n\n// eslint-disable-next-line @typescript-eslint/no-var-requires, @typescript-eslint/no-require-imports\nconst { token } = require('../auth.json');\n\nconst client = new Discord.Client({ intents: ['GUILD_VOICE_STATES', 'GUILD_MESSAGES', 'GUILDS'] });\n\nclient.on('ready', () => console.log('Ready!'));\n\n// This contains the setup code for creating slash commands in a guild. The owner of the bot can send \"!deploy\" to create them.\nclient.on('messageCreate', async (message) => {\n\tif (!message.guild) return;\n\tif (!client.application?.owner) await client.application?.fetch();\n\n\tif (message.content.toLowerCase() === '!khởi tạo' && message.author.id === client.application?.owner?.id) {\n\t\tawait message.guild.commands.set([\n\t\t\t{\n\t\t\t\tname: 'play',\n\t\t\t\tdescription: 'chơi nhạc',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'song',\n\t\t\t\t\t\ttype: 'STRING' as const,\n\t\t\t\t\t\tdescription: 'Link hoặc tên bài hát',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'skip',\n\t\t\t\tdescription: 'Chuyển bài kế tiếp',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'queue',\n\t\t\t\tdescription: 'Xem danh sách bài hát hiện tại',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'pause',\n\t\t\t\tdescription: 'Tạm dừng chơi nhạc',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'stop',\n\t\t\t\tdescription: 'Dừng chơi nhạc và xóa danh sách',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'resume',\n\t\t\t\tdescription: 'Tiếp tục chơi nhạc',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'leave',\n\t\t\t\tdescription: 'Yêu cầu bot rồi kênh âm thanh',\n\t\t\t},\n\t\t]);\n\n\t\tawait message.reply('Đã khởi tạo và làm mới lệnh!');\n\t}\n});\n\n/**\n * Maps guild IDs to music subscriptions, which exist if the bot has an active VoiceConnection to the guild.\n */\nconst subscriptions = new Map<Snowflake, MusicSubscription>();\n\n// Handles slash command interactions\nclient.on('interactionCreate', async (interaction: Interaction) => {\n\tif (!interaction.isCommand() || !interaction.guildId) return;\n\tlet subscription = subscriptions.get(interaction.guildId);\n\n\tif (interaction.commandName === 'play') {\n\t\tawait interaction.deferReply();\n\t\tconsole.log(interaction.options);\n\t\t// Extract the video URL from the command\n\t\tconst urlRaw = interaction.options.get('song')!.value! as string;\n\t\tlet url: string;\n\t\tlet isLink = false;\n\t\t['https://www.youtube.com/', 'youtube.com', 'www.youtube.com/', 'https://m.youtube.com/', 'm.youtube.com/'].forEach(\n\t\t\t(ytlink) => {\n\t\t\t\tif (urlRaw.startsWith(ytlink)) {\n\t\t\t\t\tisLink = true;\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\tif (isLink) url = urlRaw;\n\t\telse {\n\t\t\tconst videoResult = await yts(urlRaw);\n\t\t\tconsole.log(videoResult);\n\t\t\tif (videoResult.all.length > 1) url = videoResult.all[0].url;\n\t\t\telse url = urlRaw;\n\t\t}\n\n\t\t// If a connection to the guild doesn't already exist and the user is in a voice channel, join that channel\n\t\t// and create a subscription.\n\t\tif (!subscription) {\n\t\t\tif (interaction.member instanceof GuildMember && interaction.member.voice.channel) {\n\t\t\t\tconst channel = interaction.member.voice.channel;\n\t\t\t\tsubscription = new MusicSubscription(\n\t\t\t\t\tjoinVoiceChannel({\n\t\t\t\t\t\tchannelId: channel.id,\n\t\t\t\t\t\tguildId: channel.guild.id,\n\t\t\t\t\t\tadapterCreator: channel.guild.voiceAdapterCreator,\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\tsubscription.voiceConnection.on('error', console.warn);\n\t\t\t\tsubscriptions.set(interaction.guildId, subscription);\n\t\t\t}\n\t\t}\n\n\t\t// If there is no subscription, tell the user they need to join a channel.\n\t\tif (!subscription) {\n\t\t\tawait interaction.followUp('Bạn hãy vào 1 kênh âm thanh và thử lại');\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure the connection is ready before processing the user's request\n\t\ttry {\n\t\t\tawait entersState(subscription.voiceConnection, VoiceConnectionStatus.Ready, 20e3);\n\t\t} catch (error) {\n\t\t\tconsole.warn(error);\n\t\t\tawait interaction.followUp('Failed to join voice channel within 20 seconds, please try again later!');\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Attempt to create a Track from the user's video URL\n\t\t\tconst track = await Track.from(url, {\n\t\t\t\tonStart() {\n\t\t\t\t\tinteraction.followUp({ content: 'Now playing!', ephemeral: true }).catch(console.warn);\n\t\t\t\t},\n\t\t\t\tonFinish() {\n\t\t\t\t\tinteraction.followUp({ content: 'Now finished!', ephemeral: true }).catch(console.warn);\n\t\t\t\t},\n\t\t\t\tonError(error) {\n\t\t\t\t\tconsole.warn(error);\n\t\t\t\t\tinteraction.followUp({ content: `Error: ${error.message}`, ephemeral: true }).catch(console.warn);\n\t\t\t\t},\n\t\t\t});\n\t\t\t// Enqueue the track and reply a success message to the user\n\t\t\tsubscription.enqueue(track);\n\t\t\tawait interaction.followUp(`Enqueued **${track.title}**`);\n\t\t} catch (error) {\n\t\t\tconsole.warn(error);\n\t\t\tawait interaction.reply('Failed to play track, please try again later!');\n\t\t}\n\t} else if (interaction.commandName === 'skip') {\n\t\tif (subscription) {\n\t\t\t// Calling .stop() on an AudioPlayer causes it to transition into the Idle state. Because of a state transition\n\t\t\t// listener defined in music/subscription.ts, transitions into the Idle state mean the next track from the queue\n\t\t\t// will be loaded and played.\n\t\t\tsubscription.audioPlayer.stop();\n\t\t\tawait interaction.reply('Skipped song!');\n\t\t} else {\n\t\t\tawait interaction.reply('Not playing in this server!');\n\t\t}\n\t} else if (interaction.commandName === 'queue') {\n\t\t// Print out the current queue, including up to the next 5 tracks to be played.\n\t\tif (subscription) {\n\t\t\tconst current =\n\t\t\t\tsubscription.audioPlayer.state.status === AudioPlayerStatus.Idle\n\t\t\t\t\t? `Nothing is currently playing!`\n\t\t\t\t\t: `Playing **${(subscription.audioPlayer.state.resource as AudioResource<Track>).metadata.title}**`;\n\n\t\t\tconst queue = subscription.queue\n\t\t\t\t.slice(0, 5)\n\t\t\t\t.map((track, index) => `${index + 1}) ${track.title}`)\n\t\t\t\t.join('\\n');\n\n\t\t\tawait interaction.reply(`${current}\\n\\n${queue}`);\n\t\t} else {\n\t\t\tawait interaction.reply('Not playing in this server!');\n\t\t}\n\t} else if (interaction.commandName === 'pause') {\n\t\tif (subscription) {\n\t\t\tsubscription.audioPlayer.pause();\n\t\t\tawait interaction.reply({ content: `Paused!`, ephemeral: true });\n\t\t} else {\n\t\t\tawait interaction.reply('Not playing in this server!');\n\t\t}\n\t} else if (interaction.commandName === 'stop') {\n\t\tif (subscription) {\n\t\t\tsubscription.audioPlayer.stop();\n\t\t\tawait interaction.reply({ content: `Đã dừng`, ephemeral: true });\n\t\t} else {\n\t\t\tawait interaction.reply('Not playing in this server!');\n\t\t}\n\t} else if (interaction.commandName === 'resume') {\n\t\tif (subscription) {\n\t\t\tsubscription.audioPlayer.unpause();\n\t\t\tawait interaction.reply({ content: `Unpaused!`, ephemeral: true });\n\t\t} else {\n\t\t\tawait interaction.reply('Not playing in this server!');\n\t\t}\n\t} else if (interaction.commandName === 'leave') {\n\t\tif (subscription) {\n\t\t\tsubscription.voiceConnection.destroy();\n\t\t\tsubscriptions.delete(interaction.guildId);\n\t\t\tawait interaction.reply({ content: `Left channel!`, ephemeral: true });\n\t\t} else {\n\t\t\tawait interaction.reply('Not playing in this server!');\n\t\t}\n\t} else {\n\t\tawait interaction.reply('Unknown command');\n\t}\n});\n\nclient.on('error', console.warn);\n\nvoid client.login(token);\n"]}